// miryoku/custom_combos.dtsi
// Custom ZMK combos, Miryoku-style (split file).
// Keep this minimal & clean; we'll tune positions after a test build.

#include <dt-bindings/zmk/keys.h>

/ {
    macros {
        // Hyper key as one-shot modifiers (Cmd+Shift+Alt+Ctrl)
        hyper_oneshot: hyper_oneshot {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings = <&macro_press &kp LGUI &kp LSHFT &kp LALT &kp LCTRL>
                     , <&macro_pause_for_release>
                     , <&macro_release &kp LGUI &kp LSHFT &kp LALT &kp LCTRL>;
        };
    };

    combos {
        compatible = "zmk,combos";

        // EXAMPLE — ESC when positions 34 + 35 are pressed together
        combo_tab_enter_escape {
            timeout-ms = <250>;
            key-positions = <34 35>;
            bindings = <&kp ESC>;
        };

        // EXAMPLE — F13 (leader) at positions 12 + 17
        combo_akimbo_leader {
            timeout-ms = <50>;
            key-positions = <12 17>;
            bindings = <&kp F13>;
        };

        // 33 + 36 → Hyper key (holds all modifiers while combo is held)
        combo_hyper_oneshot {
            timeout-ms = <40>;
            key-positions = <33 36>;
            bindings = <&hyper_oneshot>;
        };
    };
};
